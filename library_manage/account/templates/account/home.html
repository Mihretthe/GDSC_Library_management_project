<!DOCTYPE html>
<html>
<head>

    <title>Library Management System</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
     <link rel="stylesheet" href="#">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }
        
        header {
            color: #fff;
        }
        
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            
        }
        
        nav ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
        }
        
        nav ul li {
            display: inline;
            margin-right: 10px;
        }
        
        main {
            padding: 20px;
            
        }
        
        h1 {
            color: #333;
        }
        
        .book {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .book img {
            width: 100px;
            height: 150px;
            margin-right: 10px;
        }

        .mainn{ 
            display: flex;
            overflow-x: scroll;
            scroll-snap-type: x mandatory;
        }
        .mainn::-webkit-scrollbar {
  display: none;
}

        .cardd-link{
            text-decoration: None;
            border: #333 solid 1px;
            padding: 2%;
            border-radius: 5px;
        }

        .links{
            display: flex;
            justify-content: space-around;
        }

        .list-groupp{
            list-style: none;
            padding: initial;
            display: flex;
            flex-direction:column;
            justify-content: space-between;
            row-gap: 2%;
            padding: 2%;
        }
        .list-groupp-item{
            padding-top: 2%;
            padding-bottom: 2%;
            border-radius: 10px;
            /* background-color: aquamarine; */
         }
        .cardd-title{
            text-align: center;
            font-size: 32px;
            font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;
            padding: 0;
            margin: 0;
        }

        .cardd-text{
            padding-left: 2%;
            font-size: 18px;
            font-family: 'Times New Roman', Times, serif;
        }

        .cardd{
            margin: 1%;
            padding: 1%;
            box-shadow: 0 0 10px rgb(93, 122, 133);
            border-radius: 5px;
            justify-content: center;
            transition: margin 0.3s ease;
        }

        .cardd:hover {
          margin-top: 0.2px;
        }

        .para {
            padding: 2%;
            display: flex;
            justify-content: space-around;
            column-gap: 3%;

            @media (max-width : 700px) {
                flex-direction: column;
                row-gap: 3%;
            }
        }
        .text{
            font-size: 18px;
            font-family: 'Times New Roman', Times, serif;
        }
        /* .booksimage img{
            @media (max-width : 700px) {
                width: 400;
                height: 400;
            }
        } */
        .contact{
            margin : 3%;
            /* border: #333 solid 1px; */
            padding: 5%;
            border-radius: 8px;
            display: flex;
            
            box-shadow: 0 0 10px rgb(134, 206, 235);
            @media (max-width : 700px) {
                flex-direction: column-reverse;
                row-gap: 3%;
            }
        }

        .buttons{
          /* background-color:rgb(134, 206, 235); */
          width: 150px;
          box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.5);
          padding: 1%;
          
        }

        .group{
          display: flex;
          justify-content: center;
          flex-wrap: wrap;
          gap : 10px;
          margin-top : 4%;
          margin-bottom : 4%;
        }

        

    </style>
    
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
  <a class="navbar-brand" href="#"><strong>Library</strong></a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#books">Books</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#contact">Contact Us</a>
      </li>
      {%if user.is_super_admin or user.is_admin%}

      <li class="nav-item">
        <a class="nav-link" href="{%url 'books' %}">Admin Page</a>
      </li>
      {%endif%}
      {% if user.is_authenticated %}
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                {{ user.username }}
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="nav-link" href="{% url 'profile' %}">My Account</a>
                <a class="dropdown-item" href="{% url 'logout' %}">Logout</a>
            </div>
        </li>
        {% else %}
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Sign Up
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="/login">Login</a>
                <a class="dropdown-item" href="/register">Register</a>
            </div>
        </li>
        {% endif %}
    
    </ul>

    <form class="form-inline my-2 my-lg-0"  method = "POST" action = "{% url 'search-author' %}">
      
      {% csrf_token %}

      <input class="form-control mr-sm-2" type="search" placeholder="Search by Author Name" aria-label="Search" name = "search_author">
      <button class="btn btn-outline-secondary my-2 my-sm-0" type="submit">Search</button>
    </form>

    &nbsp;
    <form class="form-inline my-2 my-lg-0"  method = "POST" action = "{% url 'search-books' %}">
      {% csrf_token %}
      <input class="form-control mr-sm-2" type="search" placeholder="Search Book" aria-label="Search" name = "search">
      <button class="btn btn-outline-secondary my-2 my-sm-0" type="submit">Search</button>
    </form>
    
  </div>
</nav>
       
    </header>
    <main>

      <!-- <script src="responsive.js"></script> -->
        <h1>Welcome to Our Library {{user|default:""|upper }}!
          </h1>
        

        <div class="para">
            

           <div class = 'text'> At Our Library, we are dedicated to providing a wide range of books and resources to satisfy your reading interests. Whether you're searching for a captivating novel, an informative non-fiction book, or any other genre that piques your curiosity, we're here to help you find what you're looking for.

            Our mission is to create an environment where you can explore, learn, and discover the joy of reading. Our collection spans various subjects, from timeless classics to contemporary bestsellers, ensuring that there's something for everyone.

            With our user-friendly search feature, you can easily navigate through our catalog and locate the books that catch your attention. We strive to keep our collection up to date, continuously adding new titles to ensure a fresh and diverse selection.

            Our dedicated team is passionate about books and is ready to assist you in finding the perfect read. Whether you need recommendations, assistance with locating a specific title, or any other inquiries, we are here to provide you with exceptional service and support.

            Visit Our Library today and embark on a literary journey that will expand your horizons and ignite your imagination. We look forward to welcoming you and helping you discover the wonders that books have to offer.

            <b>Happy reading!</b>
            
        </div>
            <div class = 'booksimage'>
                {%load static %}
                <img src="{% static 'books.png' %}" width="400" height="250" />
            </div>
            
        </div>

         <h2 id = "books">Featured Books</h2>

        <div class="container group">
          <a href="{% url 'filtered_books' 'all' %}" class="btn btn-light buttons">All</a>
          <a href="{% url 'filtered_books' 'Fictional' %}" class="btn btn-light buttons">Fictional</a>
          <a href="{% url 'filtered_books' 'Educational' %}" class="btn btn-light buttons">Educational</a>
          <a href="{% url 'filtered_books' 'Drama' %}" class="btn btn-light buttons">Drama</a>
          <a href="{% url 'filtered_books' 'Non-Fictional' %}" class="btn btn-light buttons">Non-Fictional</a>
          <a href="{% url 'filtered_books' 'Romance' %}" class="btn btn-light buttons">Romance</a>
          <a href="{% url 'status_filter' %}" class="btn btn-light buttons">Only Available</a>
        </div> 
          
         


        <div class = 'mainn'>       
          {%if not books%}
          <h2>No Books Yet</h2>
          {%endif%}
        
          {% for book in books %}
          <!-- {{book.book_cover}} -->
          
          <div class="cardd" style="width: 18rem;">
           
            <div class="cardd-body">
              <img src="/media/{{book.book_cover}}" width="250" height="200" />
              <h5 class="cardd-title">{{ book.title }}</h5>
              <p class="cardd-text">Was a great story about a girl and her trauma.</p>
            </div>
            <ul class="list-groupp">
              <li class="list-groupp-item">Author Name: {{book.author}}</li>
              <li class="list-groupp-item">Genre : {{ book.genre }}</li>
              <li class="list-groupp-item">{{ book.status|default:""|upper }}</li>
            </ul>
            <div class="cardd-body links">
              {%if book.status == "available"%}
              <a href="{% url 'borrowingmanagement:borrow_book' book_id=book.id %}" class="cardd-link">Borrow Book</a>
              {%endif%}
               {% comment %} <a href="{% url 'reviewsmanagement:book_detail' book.title %}" class="cardd-link">Review Book</a> {% endcomment %}
              
                
            </div>
          </div>
          

          {%endfor%}
        
      </div>

    <div class="contact">
        
        {% csrf_token %}
    <form id = "contact" class="container" method = 'POST'>
      {% csrf_token %}
        <h1>Contact Us</h1>
        <div class="form-group">
          <label for="email">Email address</label>
          <input type="email" class="form-control" id="email" name = "reviewer_email" aria-describedby="emailHelp" placeholder="Enter email">

          <label for="comment">Comment</label>
          <TextArea class="form-control" name = "comment" placeholder="Enter Message" ></TextArea> 
          
        </div>
        <button type="submit" class="btn btn-primary" onclick="popup()">Send</button>
      </form>
      <script>
        function popup() {
          alert(" Dear applicant your Response has been Recorded!");
        }
        </script>
    {%load static %}
    <img src = "{% static 'comments.jpg' %}" width = '400' height = '300' />

    </div>
    </main>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>